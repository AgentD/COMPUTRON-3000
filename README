
                                COMPUTRON 3000
                                **************

  The COMPUTRON 3000 project is an effort to create a retro computing platform
  around the Z80 8 bit micro processor to toy and experiment with
  never-was-state-of-the-art hardware.

  It is currently still in an early state, but the existing schematics should
  (theoretically) already yield something working.

  The text below is (for now) just a random assortment of ideas that should be
  writted down somewhere.

 LICENSE
 *******

  The files and documents of the COMPUTRON 3000 are released under the terms
  and conditions of the GNU General Public License, version 3 or later
  (at your choice).

  For terms and condidtions of the GNU GPLv3 can be found in the file
  "LICENSE"

 System Bus
 **********

  The main board (CPU, memory and interrupt controller) and the I/O boards are
  mounted onto a DIN 41617 backplane. To keep things simple, not all CPU lines
  are attached to the bus, only the lower 8 bit address lines, the data bus,
  the interrupt lines and the I/O controll lines (e.g. there's no DMA).

  The pin usage of the 41617 plug is visible below:


                  DIN 41617

       1               o-- A0
       2    /IRQ0  --o
       3               o-- A1
       4    /IRQ1  --o
       5               o-- A2
       6    /IRQ2  --o
       7               o-- A3
       8    /IRQ3  --o
       9               o-- A4
      10    /IRQ4  --o
      11               o-- A5
      12    /IRQ5  --o
      13               o-- A6
      14    /IRQ6  --o
      15               o-- A7
      16    /IRQ7  --o
      17               o-- D0
      18    /WR    --o
      19               o-- D1
      20    /RD    --o
      21               o-- D2
      22    /IORQ  --o
      23               o-- D3
      24           --o
      25               o-- D4
      26    /RESET --o
      27               o-- D5
      28    +5V    --o
      29               o-- D6
      30    GND    --o
      31               o-- D7


  D0 ... D7           Bidirectional data bus
  A0 ... A7           Address bus from CPU to I/O devices

  /IORQ               Pulled low by CPU to access the bus device with the
                      given address
  /RD                 Pulled low by CPU to read from the bus device
  /WR                 Pulled low by CPU to write to the bus device

  /IRQ0 ... /IRQ7     Interrupt request 0 to 7, pulled low by I/O device to
                      trigger interrupt. Accessed through open drain logic,
                      pull up resistors on main board.
  GND                 Ground rail.
  +5V                 Positive supply (5V) rail.
  /RESET              System reset, pulled high by main board using pull
                      up resistor and capacitor (power-on-reset). Pull low
                      to trigger full system reset.

 I/O devices
 ***********

   Interrupt controler & bank switching logic
   ******************************************

     Address: 0x00

     -> read from 0x00 returns last IRQ number negated
         -> bits have to be flipped to get IRQ number

     -> write to 0x00 selects a RAM bank


 Memory Map
 **********

   Address
             ____________
    0x0000  |            |
            |  Boot ROM  |
    0x03FF  |____________|
    0x0400  |            |
            | Shared RAM |
    0x7FFF  |____________|____________ ___    ___ ____________
    0x8000  |            |            |   \  \   |            |
            | RAM Bank 0 | RAM Bank 1 |   /  /   | RAM Bank F |
    0xFFFF  |____________|____________|___\  \___|____________|

     -> 16 bit physical address (64kB addrassable)
     -> lower 32 kB shared
          -> 1kB boot ROM
          -> 31kB RAM
     -> upper 32 kB bank switched 
          -> 512 kB RAM as 16 pages

